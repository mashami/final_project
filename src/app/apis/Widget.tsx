/* eslint-disable react/jsx-key */
/* eslint-disable react-hooks/rules-of-hooks */
"use client"
import Card from "@/components/Card/Card"
import NavBar from "@/components/NavBar/NavBar"
import { Button } from "@/components/ui/button"
import { truncateDescription } from "@/utils/helpers"
import { Api } from "@prisma/client"
import Link from "next/link"

interface ApisWidgetProps {
  apisPublic: Api[]
  apisPrivate: Api[]
}

const ApisWidget = ({ apisPublic, apisPrivate }: ApisWidgetProps) => {
  const priceFind = apisPrivate.filter((item) => item.price !== "")

  return (
    <div>
      <div className="">
        <NavBar />
      </div>
      <div className="w-full    grid place-content-center space-y-4 py-3  ">
        <span className="text-center space-y-6 grid place-items-center">
          <h1>API Collection</h1>
          <span className="space-y-1">
            <p>possess APIs that I intend to integrate into the platform</p>
            <p>
              {" "}
              I aim to provide clear and concise explanations on their usage
            </p>
          </span>
          <div className="bg-[#F4F9FF] rounded-full w-96 h-12 flex items-center justify-between pl-2">
            <input
              type="seach"
              placeholder="Search APIs cotegory"
              className="mx-4 flex items-center flex-1 outline-none bg-transparent "
            />
            <Button
              text="Search"
              variant={"default"}
              className="rounded-full"
              icon={
                <svg
                  width={18}
                  height={18}
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M15.75 15.75L11.25 11.25M12.75 7.5C12.75 10.3995 10.3995 12.75 7.5 12.75C4.60051 12.75 2.25 10.3995 2.25 7.5C2.25 4.60051 4.60051 2.25 7.5 2.25C10.3995 2.25 12.75 4.60051 12.75 7.5Z"
                    stroke="#71717A"
                    strokeWidth="1.5"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              }
            />
          </div>
        </span>
        <h1>Public APIs</h1>
        <div className="grid grid-cols-3 gap-8  place-items-center pt-8">
          {apisPublic.length ? (
            apisPublic.map((api) => {
              const randomIndex = Math.floor(Math.random() * svgs.length)

              return (
                <Link href={`/getApi/[id]`} as={`getApi/${api.id}`}>
                  <Card
                    title={api.title}
                    desc={truncateDescription(`${api.discription}`, 50)}
                    svg={svgs[randomIndex]}
                  />
                </Link>
              )
            })
          ) : (
            <p>There are no public APIs yet</p>
          )}
        </div>
        <div className="py-8">
          <h1>Private APIS</h1>
          <div className="grid grid-cols-3 gap-8  place-items-center pt-8">
            {apisPrivate.length ? (
              apisPrivate.map((api) => {
                const randomIndex = Math.floor(Math.random() * svgs.length)

                return (
                  <Link href={`/getApi/[id]`} as={`getApi/${api.id}`}>
                    <Card
                      title={api.title}
                      desc={truncateDescription(`${api.discription}`, 50)}
                      price={api.price ?? ""}
                      svg={svgs[randomIndex]}
                    />
                  </Link>
                )
              })
            ) : (
              <p>There are no Private APIs yet</p>
            )}
          </div>
        </div>
      </div>
    </div>
  )
}

export default ApisWidget

export const svgs = [
  <svg viewBox="0 0 49 48" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M41 7.5H8C7.20435 7.5 6.44129 7.81607 5.87868 8.37868C5.31607 8.94129 5 9.70435 5 10.5V37.5C5 38.2956 5.31607 39.0587 5.87868 39.6213C6.44129 40.1839 7.20435 40.5 8 40.5H41C41.7957 40.5 42.5587 40.1839 43.1213 39.6213C43.6839 39.0587 44 38.2956 44 37.5V10.5C44 9.70435 43.6839 8.94129 43.1213 8.37868C42.5587 7.81607 41.7957 7.5 41 7.5ZM24.5 30C22.1138 29.9975 19.8261 29.0485 18.1388 27.3612C16.4515 25.6739 15.5025 23.3862 15.5 21C15.5 20.6022 15.658 20.2206 15.9393 19.9393C16.2206 19.658 16.6022 19.5 17 19.5C17.3978 19.5 17.7794 19.658 18.0607 19.9393C18.342 20.2206 18.5 20.6022 18.5 21C18.5 22.5913 19.1321 24.1174 20.2574 25.2426C21.3826 26.3679 22.9087 27 24.5 27C26.0913 27 27.6174 26.3679 28.7426 25.2426C29.8679 24.1174 30.5 22.5913 30.5 21C30.5 20.6022 30.658 20.2206 30.9393 19.9393C31.2206 19.658 31.6022 19.5 32 19.5C32.3978 19.5 32.7794 19.658 33.0607 19.9393C33.342 20.2206 33.5 20.6022 33.5 21C33.4975 23.3862 32.5485 25.6739 30.8612 27.3612C29.1739 29.0485 26.8862 29.9975 24.5 30ZM8 13.5V10.5H41V13.5H8Z"
      fill="#4ABEFF"
    />
  </svg>,

  <svg
    width={74}
    height={74}
    viewBox="0 0 74 74"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M64.5072 19.7777L59.8822 10.5277C59.6899 10.1435 59.3945 9.82041 59.0289 9.59474C58.6633 9.36907 58.2421 9.24969 57.8125 9.25H16.1875C15.7579 9.24969 15.3367 9.36907 14.9711 9.59474C14.6055 9.82041 14.3101 10.1435 14.1178 10.5277L9.49281 19.7777C9.33341 20.0994 9.25033 20.4535 9.25 20.8125V60.125C9.25 61.3516 9.73728 62.528 10.6046 63.3954C11.472 64.2627 12.6484 64.75 13.875 64.75H60.125C61.3516 64.75 62.528 64.2627 63.3954 63.3954C64.2627 62.528 64.75 61.3516 64.75 60.125V20.8125C64.7497 20.4535 64.6666 20.0994 64.5072 19.7777ZM17.6155 13.875H56.3845L58.697 18.5H15.303L17.6155 13.875ZM60.125 60.125H13.875V23.125H60.125V60.125ZM47.8861 42.3014C48.1011 42.5162 48.2717 42.7712 48.388 43.052C48.5044 43.3327 48.5643 43.6336 48.5643 43.9375C48.5643 44.2414 48.5044 44.5423 48.388 44.823C48.2717 45.1038 48.1011 45.3588 47.8861 45.5736L38.6361 54.8236C38.4213 55.0386 38.1663 55.2092 37.8855 55.3255C37.6048 55.4419 37.3039 55.5018 37 55.5018C36.6961 55.5018 36.3952 55.4419 36.1145 55.3255C35.8337 55.2092 35.5787 55.0386 35.3639 54.8236L26.1139 45.5736C25.68 45.1397 25.4362 44.5512 25.4362 43.9375C25.4362 43.3238 25.68 42.7353 26.1139 42.3014C26.5478 41.8675 27.1363 41.6237 27.75 41.6237C28.3637 41.6237 28.9522 41.8675 29.3861 42.3014L34.6875 47.6057V30.0625C34.6875 29.4492 34.9311 28.861 35.3648 28.4273C35.7985 27.9936 36.3867 27.75 37 27.75C37.6133 27.75 38.2015 27.9936 38.6352 28.4273C39.0689 28.861 39.3125 29.4492 39.3125 30.0625V47.6057L44.6139 42.3014C44.8287 42.0864 45.0837 41.9158 45.3645 41.7995C45.6452 41.6831 45.9461 41.6232 46.25 41.6232C46.5539 41.6232 46.8548 41.6831 47.1355 41.7995C47.4163 41.9158 47.6713 42.0864 47.8861 42.3014Z"
      fill="black"
    />
  </svg>,

  <svg
    width={74}
    height={74}
    viewBox="0 0 74 74"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M60.125 9.25H13.875C12.6484 9.25 11.472 9.73728 10.6046 10.6046C9.73728 11.472 9.25 12.6484 9.25 13.875V60.125C9.25 61.3516 9.73728 62.528 10.6046 63.3954C11.472 64.2627 12.6484 64.75 13.875 64.75H60.125C61.3516 64.75 62.528 64.2627 63.3954 63.3954C64.2627 62.528 64.75 61.3516 64.75 60.125V13.875C64.75 12.6484 64.2627 11.472 63.3954 10.6046C62.528 9.73728 61.3516 9.25 60.125 9.25ZM60.125 13.875V43.9375H51.8289C51.2218 43.9359 50.6204 44.055 50.0597 44.2877C49.499 44.5204 48.9901 44.8622 48.5625 45.2932L42.9807 50.875H31.0193L25.4375 45.2932C25.0096 44.8619 24.5002 44.5199 23.9389 44.2871C23.3777 44.0544 22.7758 43.9356 22.1682 43.9375H13.875V13.875H60.125ZM60.125 60.125H13.875V48.5625H22.1682L27.75 54.1443C28.1779 54.5756 28.6873 54.9176 29.2486 55.1504C29.8098 55.3831 30.4117 55.5019 31.0193 55.5H42.9807C43.5883 55.5019 44.1902 55.3831 44.7514 55.1504C45.3127 54.9176 45.8221 54.5756 46.25 54.1443L51.8318 48.5625H60.125V60.125ZM26.1139 36.3236C25.68 35.8897 25.4362 35.3012 25.4362 34.6875C25.4362 34.0738 25.68 33.4853 26.1139 33.0514C26.5478 32.6175 27.1363 32.3737 27.75 32.3737C28.3637 32.3737 28.9522 32.6175 29.3861 33.0514L34.6875 38.3557V20.8125C34.6875 20.1992 34.9311 19.611 35.3648 19.1773C35.7985 18.7436 36.3867 18.5 37 18.5C37.6133 18.5 38.2015 18.7436 38.6352 19.1773C39.0689 19.611 39.3125 20.1992 39.3125 20.8125V38.3557L44.6139 33.0514C44.8288 32.8366 45.0838 32.6661 45.3646 32.5498C45.6453 32.4336 45.9461 32.3737 46.25 32.3737C46.5539 32.3737 46.8547 32.4336 47.1354 32.5498C47.4162 32.6661 47.6712 32.8366 47.8861 33.0514C48.1009 33.2663 48.2714 33.5213 48.3877 33.8021C48.5039 34.0828 48.5638 34.3836 48.5638 34.6875C48.5638 34.9914 48.5039 35.2922 48.3877 35.5729C48.2714 35.8537 48.1009 36.1087 47.8861 36.3236L38.6361 45.5736C38.4213 45.7886 38.1663 45.9592 37.8855 46.0755C37.6048 46.1919 37.3039 46.2518 37 46.2518C36.6961 46.2518 36.3952 46.1919 36.1145 46.0755C35.8337 45.9592 35.5787 45.7886 35.3639 45.5736L26.1139 36.3236Z"
      fill="black"
    />
  </svg>,

  <svg
    width={74}
    height={74}
    viewBox="0 0 74 74"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M51.4994 53.1874H32.1785C31.8285 55.2587 31.0127 57.2234 29.7928 58.9335C28.5728 60.6435 26.9805 62.0543 25.1359 63.0593C23.2914 64.0644 21.2427 64.6375 19.1443 64.7354C17.046 64.8333 14.9528 64.4536 13.0227 63.6247C11.0925 62.7958 9.3757 61.5395 8.00177 59.9506C6.62785 58.3616 5.63265 56.4813 5.09123 54.4517C4.54981 52.4221 4.4763 50.296 4.87624 48.2338C5.27618 46.1716 6.13914 44.2271 7.40003 42.547C7.58243 42.3041 7.81089 42.0995 8.07238 41.9448C8.33386 41.7902 8.62325 41.6885 8.92401 41.6457C9.22478 41.6029 9.53103 41.6197 9.82528 41.6953C10.1195 41.7708 10.396 41.9036 10.639 42.086C10.8819 42.2684 11.0866 42.4968 11.2412 42.7583C11.3959 43.0198 11.4975 43.3092 11.5403 43.61C11.5831 43.9107 11.5663 44.217 11.4907 44.5112C11.4152 44.8055 11.2824 45.082 11.1 45.3249C9.89332 46.923 9.2435 48.8725 9.25003 50.8749C9.25003 53.3282 10.2246 55.681 11.9593 57.4157C13.694 59.1504 16.0468 60.1249 18.5 60.1249C20.9533 60.1249 23.3061 59.1504 25.0408 57.4157C26.7755 55.681 27.75 53.3282 27.75 50.8749C27.75 50.2616 27.9937 49.6734 28.4273 49.2397C28.861 48.8061 29.4492 48.5624 30.0625 48.5624H51.4994C52.0085 47.6807 52.7942 46.9916 53.7349 46.602C54.6755 46.2124 55.7184 46.144 56.7018 46.4075C57.6852 46.671 58.5542 47.2517 59.174 48.0594C59.7938 48.8671 60.1298 49.8568 60.1298 50.8749C60.1298 51.8931 59.7938 52.8827 59.174 53.6905C58.5542 54.4982 57.6852 55.0788 56.7018 55.3423C55.7184 55.6058 54.6755 55.5375 53.7349 55.1479C52.7942 54.7583 52.0085 54.0691 51.4994 53.1874ZM18.5 55.4999C19.3011 55.5002 20.0885 55.2924 20.7851 54.8969C21.4817 54.5015 22.0636 53.9318 22.4739 53.2438C22.8842 52.5558 23.1088 51.7731 23.1256 50.9722C23.1425 50.1713 22.951 49.3798 22.57 48.6752L32.9098 31.8691C33.2307 31.3469 33.3312 30.7187 33.1892 30.1225C33.0472 29.5263 32.6743 29.0108 32.1525 28.6894C30.9164 27.9285 29.8768 26.8874 29.1177 25.6502C28.3586 24.4131 27.9012 23.0147 27.7826 21.5681C27.664 20.1215 27.8876 18.6673 28.4351 17.3231C28.9826 15.9788 29.8388 14.7823 30.9344 13.8303C32.03 12.8782 33.3342 12.1973 34.7417 11.8427C36.1492 11.4881 37.6204 11.4697 39.0363 11.7889C40.4522 12.1082 41.7731 12.7561 42.8922 13.6804C44.0113 14.6048 44.8972 15.7794 45.4782 17.1095C45.7236 17.6719 46.1822 18.1137 46.7533 18.3379C47.3244 18.562 47.9612 18.5501 48.5235 18.3048C49.0858 18.0595 49.5277 17.6008 49.7518 17.0297C49.976 16.4586 49.9641 15.8219 49.7188 15.2595C48.8858 13.3553 47.6356 11.6625 46.0606 10.3062C44.4855 8.94997 42.6259 7.9649 40.6191 7.42378C38.6123 6.88266 36.5095 6.79931 34.4662 7.17991C32.4228 7.5605 30.4911 8.3953 28.8137 9.62265C27.1363 10.85 25.756 12.4385 24.7749 14.2709C23.7938 16.1032 23.2369 18.1326 23.1453 20.2091C23.0537 22.2856 23.4299 24.3561 24.2459 26.2677C25.0619 28.1793 26.297 29.8831 27.8599 31.2534L18.6272 46.2499C18.5839 46.2499 18.5434 46.2499 18.5 46.2499C17.2734 46.2499 16.097 46.7372 15.2297 47.6046C14.3623 48.4719 13.875 49.6483 13.875 50.8749C13.875 52.1016 14.3623 53.2779 15.2297 54.1453C16.097 55.0127 17.2734 55.4999 18.5 55.4999ZM55.5 36.9999C53.7171 37.0001 51.9507 37.3425 50.2969 38.0088L41.07 23.0093C41.5509 22.1184 41.7262 21.0942 41.569 20.0941C41.4117 19.0939 40.9306 18.173 40.1995 17.4726C39.4684 16.7722 38.5276 16.3311 37.5216 16.2169C36.5157 16.1028 35.5 16.3218 34.6305 16.8406C33.761 17.3593 33.0858 18.149 32.7084 19.0885C32.331 20.0279 32.2723 21.0653 32.5414 22.0414C32.8104 23.0174 33.3923 23.8782 34.1977 24.4917C35.0031 25.1052 35.9876 25.4374 37 25.4374H37.1272L47.4699 42.2464C47.7918 42.7678 48.3075 43.14 48.9036 43.2815C49.4998 43.4229 50.1277 43.322 50.6496 43.0009C51.8671 42.2503 53.242 41.7923 54.6664 41.6629C56.0908 41.5334 57.5258 41.7361 58.8586 42.2548C60.1915 42.7736 61.3859 43.5943 62.348 44.6526C63.3101 45.7109 64.0137 46.9779 64.4035 48.354C64.7932 49.7301 64.8586 51.1779 64.5944 52.5835C64.3302 53.9891 63.7437 55.3144 62.8809 56.4551C62.0181 57.5957 60.9025 58.5208 59.6218 59.1576C58.3412 59.7944 56.9303 60.1255 55.5 60.1249C54.8867 60.1249 54.2985 60.3686 53.8648 60.8022C53.4312 61.2359 53.1875 61.8241 53.1875 62.4374C53.1875 63.0507 53.4312 63.6389 53.8648 64.0726C54.2985 64.5063 54.8867 64.7499 55.5 64.7499C59.1799 64.7499 62.7091 63.2881 65.3111 60.686C67.9132 58.084 69.375 54.5548 69.375 50.8749C69.375 47.1951 67.9132 43.6659 65.3111 41.0638C62.7091 38.4618 59.1799 36.9999 55.5 36.9999Z"
      fill="black"
    />
  </svg>,

  <svg
    width={74}
    height={74}
    viewBox="0 0 74 74"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M62.4375 11.5625H11.5625C10.3359 11.5625 9.15949 12.0498 8.29213 12.9171C7.42478 13.7845 6.9375 14.9609 6.9375 16.1875V57.8125C6.9375 59.0391 7.42478 60.2155 8.29213 61.0829C9.15949 61.9502 10.3359 62.4375 11.5625 62.4375H62.4375C63.6641 62.4375 64.8405 61.9502 65.7079 61.0829C66.5752 60.2155 67.0625 59.0391 67.0625 57.8125V16.1875C67.0625 14.9609 66.5752 13.7845 65.7079 12.9171C64.8405 12.0498 63.6641 11.5625 62.4375 11.5625ZM62.4375 57.8125H11.5625V16.1875H62.4375V57.8125ZM23.125 24.2812C23.125 24.9673 22.9216 25.638 22.5404 26.2084C22.1593 26.7788 21.6175 27.2234 20.9837 27.486C20.3499 27.7485 19.6524 27.8172 18.9795 27.6833C18.3067 27.5495 17.6886 27.2191 17.2035 26.734C16.7184 26.2489 16.388 25.6308 16.2542 24.958C16.1203 24.2851 16.189 23.5876 16.4515 22.9538C16.7141 22.32 17.1587 21.7782 17.7291 21.3971C18.2995 21.0159 18.9702 20.8125 19.6562 20.8125C20.5762 20.8125 21.4585 21.178 22.109 21.8285C22.7595 22.479 23.125 23.3613 23.125 24.2812ZM34.6875 24.2812C34.6875 24.9673 34.4841 25.638 34.1029 26.2084C33.7218 26.7788 33.18 27.2234 32.5462 27.486C31.9124 27.7485 31.2149 27.8172 30.542 27.6833C29.8692 27.5495 29.2511 27.2191 28.766 26.734C28.2809 26.2489 27.9505 25.6308 27.8167 24.958C27.6828 24.2851 27.7515 23.5876 28.014 22.9538C28.2766 22.32 28.7212 21.7782 29.2916 21.3971C29.862 21.0159 30.5327 20.8125 31.2188 20.8125C32.1387 20.8125 33.021 21.178 33.6715 21.8285C34.322 22.479 34.6875 23.3613 34.6875 24.2812Z"
      fill="black"
    />
  </svg>
]
